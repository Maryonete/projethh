{% extends 'base.html.twig' %} {% block title %}Campains index{% endblock %} {%
block body %}
<div class="container">
  <h1 class="pb-2 border-bottom d-flex justify-content-between">
    Liste des campagnes
    <a href="{{ path('campains_new') }}"><i class="fas fa-plus"></i></a>
  </h1>
  {% if campains is not empty %}
  <table class="table table-striped table-hover sortTable" id="campagneList">
    <thead>
      <tr>
        <th>Id</th>
        <th>Libelle</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      {% for campain in campains %}
      <tr>
        <td>{{ campain.id }}</td>
        <td>{{ campain.libelle }}</td>
        <td>{{ campain.date ? campain.date|date('d-m-Y') : '' }}</td>
        <td>
          <a href="{{ path('campains_show', { id: campain.id }) }}"
            ><i class="fa-solid fa-eye"></i
          ></a>
        </td>
        <td>
          <a href="{{ path('campains_edit', { id: campain.id }) }}"
            ><i class="fa-solid fa-pen"></i
          ></a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <script>
    $(document).ready(function () {
      $("#campagneList").DataTable({
        order: [1, "asc"],
        searching: true,
        info: false,
        paging: false,
        language: {
          sSearch: "<i class='fas fa-search'></i>",
        },
        columns: [null, null, null, { orderable: false }, { orderable: false }],
        // searchDelay: 300, // Délai avant la prise en compte de la recherche pour éviter un filtrage excessif
      });
    });
  </script>
  {% else %}

  <b>pas d'enregistrement</b>
  {% endif %}
</div>
{% endblock %}
